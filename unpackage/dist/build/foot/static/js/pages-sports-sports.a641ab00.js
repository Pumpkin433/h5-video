(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-sports-sports"],{"21b7":function(t,a,i){"use strict";var n=i("4696"),e=i.n(n);e.a},"384f":function(t,a,i){"use strict";var n,e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"uni-flex uni-column index-bg"},[i("v-uni-view",{staticClass:"flex-item flex-item-V index-top"},[i("v-uni-view",{staticClass:"index-top-l",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.turn_rule.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"index-top-r",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.turn_rank.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"flex-item flex-item-V index-d"},[1==t.contactExists?i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.login_app_status,expression:"login_app_status == false"}],staticClass:"index-d-bg",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.loginApp.apply(void 0,arguments)}}},[i("span",[t._v("开始挑战")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.login_app_status,expression:"login_app_status == true"}],staticClass:"index-d-bg",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.turnQuestion(1)}}},[i("span",[t._v("开始挑战")])])]):t._e(),0==t.contactExists?i("div",{staticClass:"index-d-bg",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.turnQuestion(2)}}},[i("span",[t._v("我要答题")])]):t._e()]),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!0===t.msg_modal_share,expression:"msg_modal_share === true"}],staticClass:"msg-modal",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.msg_modal_close.apply(void 0,arguments)}}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!0===t.msg_modal_share,expression:"msg_modal_share === true"}],staticClass:"msg-modal-bg"},[i("v-uni-view",{staticClass:"modal-msg-t"},[i("h3",[t._v("您今天答题的机会"),i("br"),t._v("已经用完了")])]),i("v-uni-view",{staticClass:"modal-msg-d"},[i("v-uni-view",{staticClass:"modal-msg-d-l"},[i("p",[t._v("长按保存二维码"),i("br"),t._v("下载全民体育APP 参与活动")])]),i("v-uni-view",{staticClass:"modal-msg-d-r"},[i("img",{attrs:{src:"http://aloss.hotforest.cn/h5-basketball/m-share-qrcode.png",alt:""}})])],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!0===t.msg_modal_app_share,expression:"msg_modal_app_share === true"}],staticClass:"msg-modal",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.msg_modal_app.apply(void 0,arguments)}}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!0===t.msg_modal_app_share,expression:"msg_modal_app_share === true"}],staticClass:"msg-modal-bg"},[i("v-uni-view",{staticClass:"modal-msg-t"},[i("h3",[t._v("打开全民体育App"),i("br"),t._v("参与答题")])]),i("v-uni-view",{staticClass:"modal-msg-d"},[i("v-uni-view",{staticClass:"modal-msg-d-l"},[i("p",[t._v("长按识别二维码"),i("br"),t._v("下载全民体育APP 参与活动")])]),i("v-uni-view",{staticClass:"modal-msg-d-r"},[i("img",{attrs:{src:"http://aloss.hotforest.cn/h5-basketball/m-share-qrcode.png",alt:""}})])],1)],1)],1)},s=[];i.d(a,"b",(function(){return e})),i.d(a,"c",(function(){return s})),i.d(a,"a",(function(){return n}))},"3eea":function(t,a,i){"use strict";(function(t){var n=i("ee27");i("d3b7"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=n(i("c51f")),s=n(i("3b89")),o=n(i("9f72")),r={name:"sports",data:function(){return{msg_modal_share:!1,msg_modal_app_share:!1,uid:null,ns_device_id:null,now_time:(new Date).getTime(),answer_chance:null,nickname:null,login_app_status:!0,contactExists:!1}},onLoad:function(t){var a=uni.getStorageSync("uid"),i=uni.getStorageSync("ns_device_id");"undefined"===typeof contact?(this.contactExists=!1,a&&null!=a&&""!=a?this.uid=a:(this.uid=e.default.randomWord(!1,18),uni.setStorageSync("uid",this.uid)),i&&null!=i&&""!=i?this.ns_device_id=i:(this.ns_device_id="web",uni.setStorageSync("ns_device_id",this.ns_device_id))):(this.contactExists=!0,contact.onLoginDone=function(a,i){this.login_app_status=!0,this.uid=a,this.ns_device_id=t.ns_device_id,uni.setStorageSync("uid",a)},"null"===t.uid||""===t.uid||void 0===t.uid||null===t.uid?this.login_app_status=!1:(this.uid=t.uid,this.ns_device_id=t.ns_device_id,uni.setStorageSync("uid",t.uid),this.login_app_status=!0),alert(uni.getStorageSync("uid")+"---"+this.contactExists+"------"+this.login_app_status))},methods:{loginApp:function(){contact.requireLogin()},turnQuestion:function(a){var i=this,n={uid:this.uid,activity_id:this.$question.activity_id,from:a};s.default.post(o.default.sq+"/activity/api.usersAnswerChance/getAnswerChance",n).then((function(a){if(t.log(a),200!=a.status)return alert("server error");var n=a.data.data.answer_chance;n<=0?i.msg_modal_share=!0:i.getQuestionList(i.$question.activity_id)})).catch((function(t){})).finally((function(){}))},getQuestionList:function(t){var a=this,i={activity_id:t};s.default.post(o.default.sq+"/activity/api.questions/list",i).then((function(i){if(200!=i.status)return alert("server error");a.$question.setQusetionList(i.data.data),a.updateAnswerChance(a.uid,t,2),uni.redirectTo({url:"/pages/sports/question",success:function(){}})})).catch((function(t){})).finally((function(){}))},updateAnswerChance:function(a,i,n){var e={uid:a,activity_id:i,type:n};s.default.post(o.default.sq+"/activity/api.UsersAnswerChance/update",e).then((function(a){if(t.log(a),200!=a.status)return alert("server error")})).catch((function(t){})).finally((function(){}))},msg_modal_app:function(){this.msg_modal_app_share=!1},msg_modal_close:function(){this.msg_modal_share=!1},turn_rank:function(){uni.reLaunch({url:"/pages/sports/rank",success:function(){}})},turn_rule:function(){uni.reLaunch({url:"/pages/sports/rule",success:function(){}})}}};a.default=r}).call(this,i("5a52")["default"])},4696:function(t,a,i){var n=i("f298");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=i("4f06").default;e("141dd53b",n,!0,{sourceMap:!1,shadowMode:!1})},c51f:function(t,a,i){function n(t){if("number"!==typeof t||t<0)return t;var a=parseInt(t/3600);t%=3600;var i=parseInt(t/60);t%=60;var n=t;return[a,i,n].map((function(t){return t=t.toString(),t[1]?t:"0"+t})).join(":")}function e(t,a,i){var n="",e=a,s=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-"];t&&(e=Math.round(Math.random()*(i-a))+a);for(var o=0;o<e;o++){var r=Math.round(Math.random()*(s.length-1));n+=s[r]}return n}function s(t,a){for(var i=t,n=[],e=0;e<a;e++){if(!(i.length>0))break;var s=Math.floor(Math.random()*i.length);n[e]=i[s],i.splice(s,1)}return n}function o(t,a){return"string"===typeof t&&"string"===typeof a&&(t=parseFloat(t),a=parseFloat(a)),t=t.toFixed(2),a=a.toFixed(2),{longitude:t.toString().split("."),latitude:a.toString().split(".")}}i("a15b"),i("d81d"),i("a434"),i("b6802"),i("d3b7"),i("acd8"),i("e25e"),i("ac1f"),i("25f0"),i("1276");var r={UNITS:{"年":315576e5,"月":26298e5,"天":864e5,"小时":36e5,"分钟":6e4,"秒":1e3},humanize:function(t){var a="";for(var i in this.UNITS)if(t>=this.UNITS[i]){a=Math.floor(t/this.UNITS[i])+i+"前";break}return a||"刚刚"},format:function(t){var a=this.parse(t),i=Date.now()-a.getTime();if(i<this.UNITS["天"])return this.humanize(i);var n=function(t){return t<10?"0"+t:t};return a.getFullYear()+"/"+n(a.getMonth()+1)+"/"+n(a.getDate())+"-"+n(a.getHours())+":"+n(a.getMinutes())},parse:function(t){var a=t.split(/[^0-9]/);return new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5])}};t.exports={formatTime:n,formatLocation:o,dateUtils:r,randomWord:e,randomOption:s}},d17a:function(t,a,i){"use strict";i.r(a);var n=i("3eea"),e=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(a,t,(function(){return n[t]}))}(s);a["default"]=e.a},f298:function(t,a,i){var n=i("24fb");a=n(!1),a.push([t.i,"a[data-v-275da59b]{text-decoration:none}.msg-modal-bg[data-v-275da59b]{background:url(http://aloss.hotforest.cn/h5-basketball/question-end-bg.png) no-repeat;background-size:100% 100%;width:80%;height:%?756.47?%;top:20%;left:10%;position:fixed;z-index:100000000}.msg-modal[data-v-275da59b]{background-color:rgba(0,0,0,.5);background-position:top;background-size:100% 100%;width:100%;height:100%;position:fixed;z-index:10000000;top:0;left:0}.modal-msg-t[data-v-275da59b]{text-align:center;height:50%;padding:20% 10% 0 10%}.modal-msg-t h3[data-v-275da59b]{color:#fff;width:100%;margin:0 auto;font-size:%?51.76?%}.modal-msg-t h5[data-v-275da59b]{color:#333;font-size:%?29.41?%;margin-top:30px}.modal-msg-d[data-v-275da59b]{height:30%}.modal-msg-d-l[data-v-275da59b]{padding-left:10%;padding-top:10%;width:50%;float:left}.modal-msg-d-l p[data-v-275da59b]{font-size:%?25.88?%;font-family:Lantinghei SC;font-weight:600;color:#333}.modal-msg-d-r[data-v-275da59b]{width:30%;margin-left:10%;padding-top:5%;float:left}.modal-msg-d-r img[data-v-275da59b]{width:%?138.82?%;height:100%}.msg-modal span[data-v-275da59b]{font-size:%?24?%;font-family:Lantinghei SC;font-weight:600;color:#fff}.index-bg[data-v-275da59b]{background:url(https://h5-activity.oss-cn-shanghai.aliyuncs.com/basketball-v2/index-bg.png) no-repeat;width:100%;height:100%;\r\n\t/* background-size: 100% 100%; */background-size:cover\r\n\t/* position: absolute; */\r\n\t/* filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='bg-login.png', sizingMethod='scale'); */}.index-top[data-v-275da59b]{height:%?76?%;padding-top:%?33?%}.index-top-l[data-v-275da59b]{float:left;width:%?214?%;height:%?104?%;background:url(https://h5-activity.oss-cn-shanghai.aliyuncs.com/basketball-v2/index-top-l.png) no-repeat;background-size:100% 100%;background-position:0;margin-left:%?20?%;cursor:pointer}.index-top-r[data-v-275da59b]{float:right;width:%?193?%;height:%?108?%;background:url(https://h5-activity.oss-cn-shanghai.aliyuncs.com/basketball-v2/index-top-r.png) no-repeat;background-size:100% 100%;background-position:100%;cursor:pointer;margin-right:%?20?%}.index-d[data-v-275da59b]{position:absolute;width:100%;height:%?156?%;bottom:%?186?%}.index-d-bg[data-v-275da59b]{width:%?490?%;height:%?156?%;background:url(https://h5-activity.oss-cn-shanghai.aliyuncs.com/basketball-v2/index-button.png) no-repeat;text-align:center;margin:0 auto;line-height:%?156?%;background-size:100% 100%}.index-d-bg span[data-v-275da59b]{font-size:%?74?%;font-family:Wawati SC;font-weight:700;color:#2a64d0;line-height:%?62?%;-webkit-text-stroke:%?8?% rgba(16,16,16,.7);text-stroke:%?8?% rgba(16,16,16,.7)}",""]),t.exports=a},fbe8:function(t,a,i){"use strict";i.r(a);var n=i("384f"),e=i("d17a");for(var s in e)"default"!==s&&function(t){i.d(a,t,(function(){return e[t]}))}(s);i("21b7");var o,r=i("f0c5"),d=Object(r["a"])(e["default"],n["b"],n["c"],!1,null,"275da59b",null,!1,n["a"],o);a["default"]=d.exports}}]);